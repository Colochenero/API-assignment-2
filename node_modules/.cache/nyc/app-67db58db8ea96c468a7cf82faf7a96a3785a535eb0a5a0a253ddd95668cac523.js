function cov_el8tjythg(){var path="C:\\Users\\pc\\Desktop\\API4\\app.js";var hash="0997412e649b99c30cf603329fe196f614885247";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\pc\\Desktop\\API4\\app.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:30}},"1":{start:{line:2,column:9},end:{line:2,column:22}},"2":{start:{line:3,column:13},end:{line:3,column:28}},"3":{start:{line:4,column:13},end:{line:4,column:28}},"4":{start:{line:5,column:12},end:{line:5,column:26}},"5":{start:{line:6,column:16},end:{line:6,column:68}},"6":{start:{line:7,column:17},end:{line:7,column:51}},"7":{start:{line:10,column:10},end:{line:10,column:16}},"8":{start:{line:11,column:10},end:{line:11,column:16}},"9":{start:{line:14,column:0},end:{line:29,column:16}},"10":{start:{line:15,column:20},end:{line:15,column:43}},"11":{start:{line:16,column:1},end:{line:16,column:60}},"12":{start:{line:17,column:1},end:{line:17,column:66}},"13":{start:{line:18,column:22},end:{line:18,column:60}},"14":{start:{line:19,column:0},end:{line:19,column:44}},"15":{start:{line:20,column:0},end:{line:27,column:1}},"16":{start:{line:22,column:0},end:{line:22,column:28}},"17":{start:{line:26,column:1},end:{line:26,column:28}},"18":{start:{line:33,column:4},end:{line:33,column:17}},"19":{start:{line:34,column:4},end:{line:34,column:33}},"20":{start:{line:36,column:4},end:{line:40,column:7}},"21":{start:{line:37,column:8},end:{line:39,column:9}},"22":{start:{line:38,column:12},end:{line:38,column:25}},"23":{start:{line:41,column:0},end:{line:41,column:13}},"24":{start:{line:45,column:4},end:{line:45,column:46}},"25":{start:{line:46,column:4},end:{line:46,column:45}},"26":{start:{line:47,column:20},end:{line:47,column:46}},"27":{start:{line:48,column:7},end:{line:48,column:28}},"28":{start:{line:49,column:7},end:{line:49,column:26}},"29":{start:{line:50,column:7},end:{line:50,column:17}},"30":{start:{line:54,column:14},end:{line:54,column:38}},"31":{start:{line:55,column:4},end:{line:57,column:7}},"32":{start:{line:56,column:8},end:{line:56,column:27}},"33":{start:{line:56,column:17},end:{line:56,column:27}},"34":{start:{line:61,column:16},end:{line:61,column:47}},"35":{start:{line:64,column:3},end:{line:64,column:17}},"36":{start:{line:66,column:20},end:{line:81,column:5}},"37":{start:{line:68,column:4},end:{line:79,column:40}},"38":{start:{line:69,column:11},end:{line:69,column:49}},"39":{start:{line:71,column:27},end:{line:71,column:53}},"40":{start:{line:72,column:11},end:{line:72,column:32}},"41":{start:{line:73,column:11},end:{line:73,column:30}},"42":{start:{line:74,column:11},end:{line:74,column:21}},"43":{start:{line:75,column:11},end:{line:75,column:26}},"44":{start:{line:79,column:23},end:{line:79,column:38}},"45":{start:{line:83,column:36},end:{line:83,column:70}},"46":{start:{line:84,column:8},end:{line:84,column:49}},"47":{start:{line:89,column:21},end:{line:89,column:47}},"48":{start:{line:90,column:8},end:{line:90,column:33}},"49":{start:{line:95,column:8},end:{line:95,column:17}},"50":{start:{line:100,column:4},end:{line:100,column:35}},"51":{start:{line:104,column:4},end:{line:104,column:30}},"52":{start:{line:108,column:4},end:{line:108,column:37}},"53":{start:{line:112,column:30},end:{line:112,column:49}},"54":{start:{line:113,column:25},end:{line:113,column:46}},"55":{start:{line:114,column:28},end:{line:114,column:52}},"56":{start:{line:116,column:38},end:{line:116,column:79}},"57":{start:{line:117,column:35},end:{line:117,column:78}},"58":{start:{line:118,column:18},end:{line:121,column:54}},"59":{start:{line:122,column:4},end:{line:122,column:20}},"60":{start:{line:125,column:0},end:{line:125,column:34}},"61":{start:{line:126,column:0},end:{line:134,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:14,column:18},end:{line:14,column:19}},loc:{start:{line:14,column:35},end:{line:29,column:1}},line:14},"1":{name:"CheckCache",decl:{start:{line:31,column:9},end:{line:31,column:19}},loc:{start:{line:32,column:0},end:{line:42,column:1}},line:32},"2":{name:"(anonymous_2)",decl:{start:{line:36,column:38},end:{line:36,column:39}},loc:{start:{line:36,column:46},end:{line:40,column:5}},line:36},"3":{name:"GetCahedData",decl:{start:{line:43,column:9},end:{line:43,column:21}},loc:{start:{line:44,column:0},end:{line:51,column:1}},line:44},"4":{name:"writeNewCacheData",decl:{start:{line:52,column:9},end:{line:52,column:26}},loc:{start:{line:53,column:0},end:{line:58,column:1}},line:53},"5":{name:"(anonymous_5)",decl:{start:{line:55,column:33},end:{line:55,column:34}},loc:{start:{line:55,column:48},end:{line:57,column:5}},line:55},"6":{name:"SendREQ",decl:{start:{line:59,column:15},end:{line:59,column:22}},loc:{start:{line:60,column:0},end:{line:65,column:1}},line:60},"7":{name:"(anonymous_7)",decl:{start:{line:66,column:20},end:{line:66,column:21}},loc:{start:{line:66,column:37},end:{line:81,column:5}},line:66},"8":{name:"(anonymous_8)",decl:{start:{line:68,column:26},end:{line:68,column:27}},loc:{start:{line:68,column:37},end:{line:77,column:8}},line:68},"9":{name:"(anonymous_9)",decl:{start:{line:79,column:14},end:{line:79,column:15}},loc:{start:{line:79,column:23},end:{line:79,column:38}},line:79},"10":{name:"cfahrenheitTemperature",decl:{start:{line:82,column:13},end:{line:82,column:35}},loc:{start:{line:82,column:54},end:{line:86,column:5}},line:82},"11":{name:"changeCelciusTemperature",decl:{start:{line:87,column:13},end:{line:87,column:37}},loc:{start:{line:88,column:4},end:{line:92,column:5}},line:88},"12":{name:"returnONE",decl:{start:{line:93,column:13},end:{line:93,column:22}},loc:{start:{line:94,column:4},end:{line:96,column:5}},line:94},"13":{name:"getkelvin",decl:{start:{line:98,column:9},end:{line:98,column:18}},loc:{start:{line:99,column:0},end:{line:101,column:1}},line:99},"14":{name:"getcityname",decl:{start:{line:102,column:9},end:{line:102,column:20}},loc:{start:{line:103,column:0},end:{line:105,column:1}},line:103},"15":{name:"getcountryname",decl:{start:{line:106,column:9},end:{line:106,column:23}},loc:{start:{line:107,column:0},end:{line:109,column:1}},line:107},"16":{name:"constructMessage",decl:{start:{line:110,column:9},end:{line:110,column:25}},loc:{start:{line:111,column:0},end:{line:123,column:1}},line:111}},branchMap:{"0":{loc:{start:{line:20,column:0},end:{line:27,column:1}},type:"if",locations:[{start:{line:20,column:0},end:{line:27,column:1}},{start:{line:20,column:0},end:{line:27,column:1}}],line:20},"1":{loc:{start:{line:37,column:8},end:{line:39,column:9}},type:"if",locations:[{start:{line:37,column:8},end:{line:39,column:9}},{start:{line:37,column:8},end:{line:39,column:9}}],line:37},"2":{loc:{start:{line:56,column:8},end:{line:56,column:27}},type:"if",locations:[{start:{line:56,column:8},end:{line:56,column:27}},{start:{line:56,column:8},end:{line:56,column:27}}],line:56}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0997412e649b99c30cf603329fe196f614885247"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_el8tjythg=function(){return actualCoverage;};return actualCoverage;}cov_el8tjythg();const axios=(cov_el8tjythg().s[0]++,require('axios'));var fs=(cov_el8tjythg().s[1]++,require("fs"));const path=(cov_el8tjythg().s[2]++,require('path'));const http=(cov_el8tjythg().s[3]++,require('http'));const url=(cov_el8tjythg().s[4]++,require('url'));const API_URL=(cov_el8tjythg().s[5]++,'https://api.openweathermap.org/data/2.5/weather?q=');const API_KEY=(cov_el8tjythg().s[6]++,'b4642b3321c9e21a4e1efc5ffe1b296c');var ENTIRE_API_URL;var Full_Path;const x=(cov_el8tjythg().s[7]++,459.67);const y=(cov_el8tjythg().s[8]++,273.15);cov_el8tjythg().s[9]++;http.createServer(function(req,res){cov_el8tjythg().f[0]++;const cityName=(cov_el8tjythg().s[10]++,req.url.replace('/',''));cov_el8tjythg().s[11]++;ENTIRE_API_URL=`${API_URL}${cityName},&appid=${API_KEY}`;cov_el8tjythg().s[12]++;Full_Path=__dirname+"\\Caching Requests\\"+cityName+".txt";const directoryPath=(cov_el8tjythg().s[13]++,path.join(dirname,'Caching Requests'));cov_el8tjythg().s[14]++;Cached=CheckCache(directoryPath,cityName);cov_el8tjythg().s[15]++;if(Cached){cov_el8tjythg().b[0][0]++;cov_el8tjythg().s[16]++;GetCahedData(res,Full_Path);}else{cov_el8tjythg().b[0][1]++;cov_el8tjythg().s[17]++;getResponse(res,Full_Path);}}).listen(8000);function CheckCache(Full_Path,cityName){cov_el8tjythg().f[1]++;cov_el8tjythg().s[18]++;exist=false;cov_el8tjythg().s[19]++;filename=cityName+".txt";//check if the City is already exists
cov_el8tjythg().s[20]++;fs.readdirSync(Full_Path).forEach(file=>{cov_el8tjythg().f[2]++;cov_el8tjythg().s[21]++;if(file==filename){cov_el8tjythg().b[1][0]++;cov_el8tjythg().s[22]++;exist=true;}else{cov_el8tjythg().b[1][1]++;}});cov_el8tjythg().s[23]++;return exist;}function GetCahedData(res,Full_Path){cov_el8tjythg().f[3]++;cov_el8tjythg().s[24]++;Str_Response=fs.readFileSync(Full_Path);cov_el8tjythg().s[25]++;json_Response=JSON.parse(Str_Response);const message=(cov_el8tjythg().s[26]++,constructMessage(response));cov_el8tjythg().s[27]++;console.log(message);cov_el8tjythg().s[28]++;res.write(message);cov_el8tjythg().s[29]++;res.end();}function writeNewCacheData(response,Full_Path){cov_el8tjythg().f[4]++;var STR=(cov_el8tjythg().s[30]++,JSON.stringify(response));cov_el8tjythg().s[31]++;fs.writeFile(Full_Path,STR,function(err){cov_el8tjythg().f[5]++;cov_el8tjythg().s[32]++;if(err){cov_el8tjythg().b[2][0]++;cov_el8tjythg().s[33]++;throw err;}else{cov_el8tjythg().b[2][1]++;}});}async function SendREQ(){cov_el8tjythg().f[6]++;var result=(cov_el8tjythg().s[34]++,await axios.get(ENTIRE_API_URL));//const directoryPath = path.join(dirname, 'Caching Requests');
cov_el8tjythg().s[35]++;return result;}cov_el8tjythg().s[36]++;const getResponse=(res,Full_Path)=>{cov_el8tjythg().f[7]++;cov_el8tjythg().s[37]++;return SendREQ().then(response=>{cov_el8tjythg().f[8]++;cov_el8tjythg().s[38]++;writeNewCacheData(response,Full_Path);//write new cached data
const message=(cov_el8tjythg().s[39]++,constructMessage(response));cov_el8tjythg().s[40]++;console.log(message);cov_el8tjythg().s[41]++;res.write(message);cov_el8tjythg().s[42]++;res.end();cov_el8tjythg().s[43]++;return message;}).catch(error=>{cov_el8tjythg().f[9]++;cov_el8tjythg().s[44]++;return console.log('');});};function cfahrenheitTemperature(kelvinTemperature){cov_el8tjythg().f[10]++;var fahrenheitTemperature=(cov_el8tjythg().s[45]++,kelvinTemperature*9/5-459.67);cov_el8tjythg().s[46]++;return fahrenheitTemperature.toFixed(2);//return 1;
}function changeCelciusTemperature(kelvinTemperature){cov_el8tjythg().f[11]++;var result=(cov_el8tjythg().s[47]++,kelvinTemperature-273.15);cov_el8tjythg().s[48]++;return result.toFixed(2);}function returnONE(K){cov_el8tjythg().f[12]++;cov_el8tjythg().s[49]++;return 1;}function getkelvin(response){cov_el8tjythg().f[13]++;cov_el8tjythg().s[50]++;return response.data.main.temp;}function getcityname(response){cov_el8tjythg().f[14]++;cov_el8tjythg().s[51]++;return response.data.name;}function getcountryname(response){cov_el8tjythg().f[15]++;cov_el8tjythg().s[52]++;return response.data.sys.country;}function constructMessage(response){cov_el8tjythg().f[16]++;const kelvinTemperature=(cov_el8tjythg().s[53]++,getkelvin(response));const cityName=(cov_el8tjythg().s[54]++,getcityname(response));const countryName=(cov_el8tjythg().s[55]++,getcountryname(response));// Making K to F and K to C conversions.
const fahrenheitTemperature=(cov_el8tjythg().s[56]++,cfahrenheitTemperature(kelvinTemperature));const celciusTemperature=(cov_el8tjythg().s[57]++,changeCelciusTemperature(kelvinTemperature));const messageX=(cov_el8tjythg().s[58]++,`Right now, in \
    ${cityName}, ${countryName} the current temperature is \
    ${fahrenheitTemperature} deg F or \
    ${celciusTemperature} deg C.`.replace(/\s+/g,' '));cov_el8tjythg().s[59]++;return messageX;}cov_el8tjythg().s[60]++;exports.getResponse=getResponse;cov_el8tjythg().s[61]++;module.exports={cfahrenheitTemperature,changeCelciusTemperature,returnONE,constructMessage,getcityname,getcountryname,getResponse,SendREQ};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJheGlvcyIsInJlcXVpcmUiLCJmcyIsInBhdGgiLCJodHRwIiwidXJsIiwiQVBJX1VSTCIsIkFQSV9LRVkiLCJFTlRJUkVfQVBJX1VSTCIsIkZ1bGxfUGF0aCIsIngiLCJ5IiwiY3JlYXRlU2VydmVyIiwicmVxIiwicmVzIiwiY2l0eU5hbWUiLCJyZXBsYWNlIiwiX19kaXJuYW1lIiwiZGlyZWN0b3J5UGF0aCIsImpvaW4iLCJkaXJuYW1lIiwiQ2FjaGVkIiwiQ2hlY2tDYWNoZSIsIkdldENhaGVkRGF0YSIsImdldFJlc3BvbnNlIiwibGlzdGVuIiwiZXhpc3QiLCJmaWxlbmFtZSIsInJlYWRkaXJTeW5jIiwiZm9yRWFjaCIsImZpbGUiLCJTdHJfUmVzcG9uc2UiLCJyZWFkRmlsZVN5bmMiLCJqc29uX1Jlc3BvbnNlIiwiSlNPTiIsInBhcnNlIiwibWVzc2FnZSIsImNvbnN0cnVjdE1lc3NhZ2UiLCJyZXNwb25zZSIsImNvbnNvbGUiLCJsb2ciLCJ3cml0ZSIsImVuZCIsIndyaXRlTmV3Q2FjaGVEYXRhIiwiU1RSIiwic3RyaW5naWZ5Iiwid3JpdGVGaWxlIiwiZXJyIiwiU2VuZFJFUSIsInJlc3VsdCIsImdldCIsInRoZW4iLCJjYXRjaCIsImVycm9yIiwiY2ZhaHJlbmhlaXRUZW1wZXJhdHVyZSIsImtlbHZpblRlbXBlcmF0dXJlIiwiZmFocmVuaGVpdFRlbXBlcmF0dXJlIiwidG9GaXhlZCIsImNoYW5nZUNlbGNpdXNUZW1wZXJhdHVyZSIsInJldHVybk9ORSIsIksiLCJnZXRrZWx2aW4iLCJkYXRhIiwibWFpbiIsInRlbXAiLCJnZXRjaXR5bmFtZSIsIm5hbWUiLCJnZXRjb3VudHJ5bmFtZSIsInN5cyIsImNvdW50cnkiLCJjb3VudHJ5TmFtZSIsImNlbGNpdXNUZW1wZXJhdHVyZSIsIm1lc3NhZ2VYIiwiZXhwb3J0cyIsIm1vZHVsZSJdLCJtYXBwaW5ncyI6Im1uUEFBQSxLQUFNQSxDQUFBQSxLQUFLLHlCQUFHQyxP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QixDQUF4QixDQUNQLEtBQU1pQixDQUFBQSxRQUFRLDBCQUFJO01BQ2J6RCxRQUFTLEtBQUl1RCxXQUFZO01BQ3pCZCxxQkFBc0I7TUFDdEJlLGtCQUFtQixTQUhQLENBR2dCdkQsT0FIaEIsQ0FHd0IsTUFIeEIsQ0FHZ0MsR0FIaEMsQ0FBSCxDQUFkLENBUEQsd0JBV0ksTUFBT3dELENBQUFBLFFBQVAsQ0FDSCxDLHdCQUVEQyxPQUFPLENBQUNqRCxXQUFSLENBQXNCQSxXQUF0QixDLHdCQUNBa0QsTUFBTSxDQUFDRCxPQUFQLENBQWUsQ0FBQ25CLHNCQUFELENBQ1hJLHdCQURXLENBRWZDLFNBRmUsQ0FHZnRCLGdCQUhlLENBSWY0QixXQUplLENBS2ZFLGNBTGUsQ0FNZjNDLFdBTmUsQ0FPZndCLE9BUGUsQ0FBZiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKTtcclxudmFyIGZzID0gcmVxdWlyZShcImZzXCIpO1xyXG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xyXG5jb25zdCBodHRwID0gcmVxdWlyZSgnaHR0cCcpO1xyXG5jb25zdCB1cmwgPSByZXF1aXJlKCd1cmwnKTtcclxuY29uc3QgQVBJX1VSTCA9ICdodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvd2VhdGhlcj9xPSc7XHJcbiBjb25zdCBBUElfS0VZID0gJ2I0NjQyYjMzMjFjOWUyMWE0ZTFlZmM1ZmZlMWIyOTZjJztcclxuIHZhciBFTlRJUkVfQVBJX1VSTDtcclxuIHZhciBGdWxsX1BhdGg7IFxyXG5jb25zdCB4ID0gNDU5LjY3O1xyXG5jb25zdCB5ID0gMjczLjE1O1xyXG5cclxuXHJcbmh0dHAuY3JlYXRlU2VydmVyKGZ1bmN0aW9uKHJlcSxyZXMpe1xyXG4gICAgY29uc3QgY2l0eU5hbWU9IHJlcS51cmwucmVwbGFjZSgnLycsJycpO1xyXG4gRU5USVJFX0FQSV9VUkwgPSBgJHtBUElfVVJMfSR7Y2l0eU5hbWV9LCZhcHBpZD0ke0FQSV9LRVl9YDtcclxuIEZ1bGxfUGF0aCA9IF9fZGlybmFtZStcIlxcXFxDYWNoaW5nIFJlcXVlc3RzXFxcXFwiICsgY2l0eU5hbWUgKyBcIi50eHRcIjtcclxuY29uc3QgZGlyZWN0b3J5UGF0aCA9IHBhdGguam9pbihkaXJuYW1lLCAnQ2FjaGluZyBSZXF1ZXN0cycpO1xyXG5DYWNoZWQgPSBDaGVja0NhY2hlKGRpcmVjdG9yeVBhdGgsY2l0eU5hbWUpO1xyXG5pZihDYWNoZWQpXHJcbntcclxuR2V0Q2FoZWREYXRhKHJlcyxGdWxsX1BhdGgpO1xyXG59XHJcbmVsc2Vcclxue1xyXG4gZ2V0UmVzcG9uc2UocmVzLEZ1bGxfUGF0aCk7XHJcbn1cclxuXHJcbn0pLmxpc3Rlbig4MDAwKTtcclxuXHJcbmZ1bmN0aW9uIENoZWNrQ2FjaGUoRnVsbF9QYXRoLGNpdHlOYW1lKVxyXG57XHJcbiAgICBleGlzdCA9IGZhbHNlXHJcbiAgICBmaWxlbmFtZSA9IGNpdHlOYW1lICsgXCIudHh0XCI7XHJcbiAgICAvL2NoZWNrIGlmIHRoZSBDaXR5IGlzIGFscmVhZHkgZXhpc3RzXHJcbiAgICBmcy5yZWFkZGlyU3luYyhGdWxsX1BhdGgpLmZvckVhY2goZmlsZSA9PiB7XHJcbiAgICAgICAgaWYgKGZpbGUgPT0gZmlsZW5hbWUpIHtcclxuICAgICAgICAgICAgZXhpc3QgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5yZXR1cm4gZXhpc3Q7XHJcbn1cclxuZnVuY3Rpb24gR2V0Q2FoZWREYXRhKHJlcyxGdWxsX1BhdGgpXHJcbntcclxuICAgIFN0cl9SZXNwb25zZSA9IGZzLnJlYWRGaWxlU3luYyhGdWxsX1BhdGgpO1xyXG4gICAganNvbl9SZXNwb25zZSA9IEpTT04ucGFyc2UoU3RyX1Jlc3BvbnNlKTtcclxuICAgIGNvbnN0IG1lc3NhZ2UgPSBjb25zdHJ1Y3RNZXNzYWdlKHJlc3BvbnNlKTtcclxuICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xyXG4gICAgICAgcmVzLndyaXRlKG1lc3NhZ2UpO1xyXG4gICAgICAgcmVzLmVuZCgpO1xyXG59XHJcbmZ1bmN0aW9uIHdyaXRlTmV3Q2FjaGVEYXRhKHJlc3BvbnNlLEZ1bGxfUGF0aClcclxue1xyXG4gICAgdmFyIFNUUiA9IEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlKTtcclxuICAgIGZzLndyaXRlRmlsZShGdWxsX1BhdGgsIFNUUiwgZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgIGlmIChlcnIpIHRocm93IGVycjtcclxuICAgIH0pO1xyXG59XHJcbmFzeW5jIGZ1bmN0aW9uIFNlbmRSRVEoKVxyXG57XHJcbiAgIHZhciByZXN1bHQgPSBhd2FpdCBheGlvcy5nZXQoRU5USVJFX0FQSV9VUkwpO1xyXG4gICAvL2NvbnN0IGRpcmVjdG9yeVBhdGggPSBwYXRoLmpvaW4oZGlybmFtZSwgJ0NhY2hpbmcgUmVxdWVzdHMnKTtcclxuXHJcbiAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuY29uc3QgZ2V0UmVzcG9uc2UgPSAocmVzLEZ1bGxfUGF0aCk9PntcclxuICAgXHJcbiAgICByZXR1cm4gU2VuZFJFUSgpLnRoZW4ocmVzcG9uc2UgPT57XHJcbiAgICAgICAgICAgd3JpdGVOZXdDYWNoZURhdGEocmVzcG9uc2UsRnVsbF9QYXRoKTtcclxuICAgICAgICAgICAvL3dyaXRlIG5ldyBjYWNoZWQgZGF0YVxyXG4gICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjb25zdHJ1Y3RNZXNzYWdlKHJlc3BvbnNlKTtcclxuICAgICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcclxuICAgICAgICAgICByZXMud3JpdGUobWVzc2FnZSk7XHJcbiAgICAgICAgICAgcmVzLmVuZCgpO1xyXG4gICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xyXG4gICAgICAgICAgIFxyXG4gICAgICAgfSlcclxuICAgXHJcbiAgICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coJycpKTsgICAgXHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjZmFocmVuaGVpdFRlbXBlcmF0dXJlKGtlbHZpblRlbXBlcmF0dXJlKXtcclxuICAgICAgICB2YXIgZmFocmVuaGVpdFRlbXBlcmF0dXJlID0gKGtlbHZpblRlbXBlcmF0dXJlICogOS81KSAtIDQ1OS42NztcclxuICAgICAgICByZXR1cm4gIGZhaHJlbmhlaXRUZW1wZXJhdHVyZS50b0ZpeGVkKDIpO1xyXG4gICAgICAgIC8vcmV0dXJuIDE7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjaGFuZ2VDZWxjaXVzVGVtcGVyYXR1cmUoa2VsdmluVGVtcGVyYXR1cmUpXHJcbiAgICB7XHJcbiAgICAgICB2YXIgcmVzdWx0ID0gIGtlbHZpblRlbXBlcmF0dXJlIC0gMjczLjE1O1xyXG4gICAgICAgIHJldHVybiByZXN1bHQudG9GaXhlZCgyKTtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJldHVybk9ORShLKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgfVxyXG4gICBcclxuZnVuY3Rpb24gZ2V0a2VsdmluKHJlc3BvbnNlKVxyXG57XHJcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5tYWluLnRlbXA7XHJcbn1cclxuZnVuY3Rpb24gZ2V0Y2l0eW5hbWUocmVzcG9uc2UpXHJcbntcclxuICAgIHJldHVybiByZXNwb25zZS5kYXRhLm5hbWU7XHJcbn1cclxuZnVuY3Rpb24gZ2V0Y291bnRyeW5hbWUocmVzcG9uc2UpXHJcbntcclxuICAgIHJldHVybiByZXNwb25zZS5kYXRhLnN5cy5jb3VudHJ5O1xyXG59XHJcbmZ1bmN0aW9uIGNvbnN0cnVjdE1lc3NhZ2UocmVzcG9uc2UpXHJcbntcclxuICAgIGNvbnN0IGtlbHZpblRlbXBlcmF0dXJlID0gZ2V0a2VsdmluKHJlc3BvbnNlKTtcclxuICAgICAgICBjb25zdCBjaXR5TmFtZSA9IGdldGNpdHluYW1lKHJlc3BvbnNlKTtcclxuICAgICAgICBjb25zdCBjb3VudHJ5TmFtZSA9IGdldGNvdW50cnluYW1lKHJlc3BvbnNlKTtcclxuICAgICAgICAvLyBNYWtpbmcgSyB0byBGIGFuZCBLIHRvIEMgY29udmVyc2lvbnMuXHJcbiAgICAgICAgY29uc3QgZmFocmVuaGVpdFRlbXBlcmF0dXJlID0gY2ZhaHJlbmhlaXRUZW1wZXJhdHVyZShrZWx2aW5UZW1wZXJhdHVyZSk7XHJcbiAgICAgICAgY29uc3QgY2VsY2l1c1RlbXBlcmF0dXJlID0gY2hhbmdlQ2VsY2l1c1RlbXBlcmF0dXJlKGtlbHZpblRlbXBlcmF0dXJlKTtcclxuIGNvbnN0IG1lc3NhZ2VYID0gYFJpZ2h0IG5vdywgaW4gXFxcclxuICAgICR7Y2l0eU5hbWV9LCAke2NvdW50cnlOYW1lfSB0aGUgY3VycmVudCB0ZW1wZXJhdHVyZSBpcyBcXFxyXG4gICAgJHtmYWhyZW5oZWl0VGVtcGVyYXR1cmV9IGRlZyBGIG9yIFxcXHJcbiAgICAke2NlbGNpdXNUZW1wZXJhdHVyZX0gZGVnIEMuYC5yZXBsYWNlKC9cXHMrL2csICcgJyk7XHJcbiAgICByZXR1cm4gbWVzc2FnZVg7XHJcbn1cclxuXHJcbmV4cG9ydHMuZ2V0UmVzcG9uc2UgPSBnZXRSZXNwb25zZTtcclxubW9kdWxlLmV4cG9ydHM9e2NmYWhyZW5oZWl0VGVtcGVyYXR1cmUsXHJcbiAgICBjaGFuZ2VDZWxjaXVzVGVtcGVyYXR1cmUsXHJcbnJldHVybk9ORSxcclxuY29uc3RydWN0TWVzc2FnZSxcclxuZ2V0Y2l0eW5hbWUsXHJcbmdldGNvdW50cnluYW1lLFxyXG5nZXRSZXNwb25zZSxcclxuU2VuZFJFUVxyXG59O1xyXG5cclxuIl19